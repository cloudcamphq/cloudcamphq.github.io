{"version":3,"file":"component---src-templates-command-tsx-d924991e8f051da6350e.js","mappings":"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","sources":["webpack://cloudcamp/./src/templates/command.tsx","webpack://cloudcamp/./node_modules/lodash/_baseFilter.js","webpack://cloudcamp/./node_modules/lodash/filter.js"],"sourcesContent":["import { graphql, Link } from \"gatsby\";\nimport * as React from \"react\";\nimport Header from \"../components/Header\";\nimport Main from \"../components/Main\";\nimport SidebarLayout from \"../components/SidebarLayout\";\nimport HtmlWithCode from \"../components/Code\";\nimport _ from \"lodash\";\n\nimport { CommandDefinition } from \"../../plugins/gatsby-api-source/command-source\";\nimport Footer from \"../components/Footer\";\n\nexport default function Command({\n  data,\n  pageContext,\n}: {\n  data: {\n    commandDocs: {\n      nodes: CommandDefinition[];\n    };\n  };\n  pageContext: any;\n}) {\n  let nodes = _.sortBy(data.commandDocs.nodes, (node) =>\n    node.suborder ? parseInt(node.suborder) : 1000\n  );\n  nodes = _.filter(nodes, (node) => !node.ignore);\n\n  return (\n    <>\n      <Header\n        title={pageContext.name + \" command\"}\n        canonical={\"/docs/\" + _.kebabCase(pageContext.name)}\n      />\n      <Main>\n        <div className=\"space-y-20 leading-7\">\n          {nodes.map((node) => (\n            <CommandItem command={node} key={node.name} />\n          ))}\n        </div>\n        <Footer links={pageContext.links} />\n      </Main>\n    </>\n  );\n}\n\nCommand.Layout = SidebarLayout;\n\nfunction CommandItem(props: { command: CommandDefinition }) {\n  let command = props.command;\n  console.log(command);\n  let name = command.name;\n  if (name.includes(\":\") && name.split(\":\")[1] == \"index\") {\n    name = name.split(\":\")[0];\n  }\n  let id = _.kebabCase(name);\n  let usage = `\n    <div class=\"gatsby-highlight\" data-language=\"bash\">\n      <pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">camp</span> ${name}${\n    command.args && \" \" + command.args.map((a) => a.name).join(\" \")\n  }</code></pre>\n    </div>\n  `;\n  let html = command.description;\n\n  if (html) {\n    // @ts-ignore\n    html = html.replaceAll(/<a/gm, `<a class=\"text-purple-900 underline\" `);\n\n    html = html.replace(/<h2(.*?)>(.*?)<\\/h2>/gm, (match, $1, $2) => {\n      let locid = id + \"-\" + _.kebabCase($2);\n      return `<h3 class=\"text-2xl font-bold mt-10 font-display\" id=\"${locid}\"><a href=\"#${locid}\">${$2}</a></h3>`;\n    });\n\n    html = html.replace(/<h1(.*?)>(.*?)<\\/h1>/gm, (match, $1, $2) => {\n      let locid = id + \"-\" + _.kebabCase($2);\n      return `<h2 class=\"text-2xl font-bold mt-10 font-display\" id=\"${locid}\"><a href=\"#${locid}\">${$2}</a></h2>`;\n    });\n\n    html = html.replace(\n      /<pre>/g,\n      `<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\">`\n    );\n    html = html.replace(/<\\/pre>/g, \"</pre></div>\");\n  }\n  return (\n    <div className=\"space-y-6 leading-7\">\n      <h2 className=\"font-display text-4xl font-bold flex items-center\" id={id}>\n        <Link to={`#${id}`}>camp {name}</Link>\n      </h2>\n      <p className=\"border-b pb-5 border-gray-200\">{command.summary}</p>\n      <div className=\"space-y-6\">\n        <H2Link title=\"Usage\" id={id + \"-usage\"}>\n          Usage\n        </H2Link>\n      </div>\n      <HtmlWithCode html={usage} />\n      <div className=\"space-y-6\">\n        <H2Link title=\"Arguments\" id={id + \"-arguments\"}>\n          Arguments\n        </H2Link>\n      </div>\n      {command.flags.length === 0 && command.args.length === 0 && (\n        <p>This command takes no arguments</p>\n      )}\n\n      {command.args.length !== 0 && (\n        <div className=\"space-y-6\">\n          {command.args.map((arg) => (\n            <div key={arg.name} className=\"space-y-6\">\n              <h2 id={id + \"-\" + _.kebabCase(arg.name)}>\n                <a href={\"#\" + id + \"-\" + _.kebabCase(arg.name)}>\n                  <div className=\"flex items-center mb-1\">\n                    <div\n                      className=\"rounded-md text-sm font-mono font-semibold whitespace-nowrap mr-3\"\n                      style={{\n                        color: \"rgb(214, 50, 0)\",\n                      }}\n                    >\n                      {arg.name}\n                    </div>\n                  </div>\n                </a>\n                {arg.description && <div className=\"\">{arg.description}</div>}\n                {/* {flag.overview && (\n                    <HtmlWithCode\n                      html={flag.overview}\n                      className=\"space-y-6 mt-1 \"\n                    />\n                  )} */}\n              </h2>\n            </div>\n          ))}\n          {command.flags\n            .filter((f) => f.name != \"help\")\n            .map((flag) => (\n              <div key={flag.name} className=\"space-y-6\">\n                <h2 id={id + \"-\" + _.kebabCase(flag.name)}>\n                  <a href={\"#\" + id + \"-\" + _.kebabCase(flag.name)}>\n                    <div className=\"flex items-center mb-1\">\n                      {flag.char && (\n                        <div\n                          className=\"rounded-md text-sm font-mono font-semibold whitespace-nowrap mr-3\"\n                          style={{\n                            color: \"rgb(214, 50, 0)\",\n                          }}\n                        >\n                          {\"-\" + flag.char + \", \"}\n                        </div>\n                      )}\n                      <div\n                        className=\"rounded-md text-sm font-mono font-semibold whitespace-nowrap mr-3\"\n                        style={{\n                          color: \"rgb(214, 50, 0)\",\n                        }}\n                      >\n                        --{flag.name}\n                        {flag.type == \"string\" && \"=\" + flag.name}\n                      </div>\n                    </div>\n                  </a>\n                  {flag.description && (\n                    <div className=\"\">{flag.description}</div>\n                  )}\n                  {flag.overview && (\n                    <HtmlWithCode\n                      html={flag.overview}\n                      className=\"space-y-6 mt-1 \"\n                    />\n                  )}\n                </h2>\n              </div>\n            ))}\n        </div>\n      )}\n      {html && <HtmlWithCode html={html} className=\"space-y-6\" />}\n    </div>\n  );\n}\n\nfunction H2Link(props: { title: string; id?: string; children: any }) {\n  let id = props.id || _.kebabCase(props.title);\n  return (\n    <h2 className=\"text-2xl font-bold mt-10 font-display\" id={id}>\n      <Link to={`#${id}`}>{props.children}</Link>\n    </h2>\n  );\n}\n\nexport const query = graphql`\n  query CommandQuery($name: String) {\n    allApiDocs {\n      nodes {\n        ...tocApiDocsFields\n      }\n    }\n\n    allMarkdownRemark {\n      nodes {\n        ...tocMarkdownFields\n      }\n    }\n\n    allCommandDocs {\n      nodes {\n        ...tocCommandDocsFields\n      }\n    }\n\n    commandDocs: allCommandDocs(filter: { group: { eq: $name } }) {\n      nodes {\n        name\n        order\n        suborder\n        ignore\n        summary\n        description\n        args {\n          name\n          description\n        }\n        flags {\n          char\n          default\n          description\n          name\n          required\n          type\n          overview\n        }\n      }\n    }\n  }\n`;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n *\n * // Combining several predicates using `_.overEvery` or `_.overSome`.\n * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n * // => objects for ['fred', 'barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n"],"names":["Command","data","pageContext","nodes","commandDocs","node","suborder","parseInt","ignore","title","name","canonical","className","map","CommandItem","command","key","links","props","console","log","includes","split","id","usage","args","a","join","html","description","replaceAll","replace","match","$1","$2","locid","Link","to","summary","H2Link","flags","length","arg","href","style","color","filter","f","flag","char","type","overview","children","Layout","SidebarLayout","baseEach","module","exports","collection","predicate","result","value","index","push","arrayFilter","baseFilter","baseIteratee","isArray"],"sourceRoot":""}